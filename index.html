<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Will you be my Valentine?</title>
  <style>
    :root { --pad: 18px; }
    body{
      margin:0; min-height:100vh; display:grid; place-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(circle at top, #ffe6ef, #fff);
      overflow:hidden;
    }
    .card{
      width:min(520px, calc(100vw - 2*var(--pad)));
      background: rgba(255,255,255,.85);
      border: 1px solid rgba(0,0,0,.08);
      border-radius: 24px;
      padding: 28px;
      box-shadow: 0 12px 40px rgba(0,0,0,.10);
      text-align:center;
      position:relative;
    }
    h1{ margin: 0 0 10px; font-size: 28px; }
    p{ margin: 0 0 22px; opacity:.85; }
    .btnrow{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }
    button{
      border:0; border-radius: 999px;
      padding: 14px 18px; font-size: 16px;
      cursor:pointer; user-select:none;
      min-width: 140px;
      box-shadow: 0 10px 22px rgba(0,0,0,.10);
      transition: transform .12s ease, filter .12s ease;
      touch-action: manipulation;
    }
    button:active{ transform: scale(.98); }
    #yes{ background:#ff2d55; color:white; }
    #no{
      background:#111; color:white;
      position:absolute;
      left: 50%; top: 68%;
      transform: translate(-50%, -50%);
    }
    .msg{ margin-top:18px; font-weight:600; }
    .hearts{
      position:fixed; inset:0; pointer-events:none; overflow:hidden;
    }
    .heart{
      position:absolute; font-size: 18px;
      animation: floatUp 2.6s ease-in forwards;
      opacity:.9;
    }
    @keyframes floatUp{
      from{ transform: translateY(20px) scale(.9); opacity:.0;}
      10%{ opacity:.9;}
      to{ transform: translateY(-120vh) scale(1.2); opacity:0;}
    }
    .hidden{ display:none; }
    .success{
      margin-top: 18px;
      background: rgba(255,45,85,.08);
      border: 1px solid rgba(255,45,85,.25);
      padding: 14px;
      border-radius: 16px;
      font-weight: 700;
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <div class="card" id="card">
    <h1>Will you be my Valentine? ğŸ’˜</h1>
    <p>Be honest. Choose wisely.</p>

    <div class="btnrow">
      <button id="yes">Yes ğŸ˜Œ</button>
    </div>

    <button id="no">No ğŸ˜¤</button>

    <div class="msg" id="msg"></div>
    <div class="success hidden" id="success">
      YAYYYYY ğŸ‰ğŸ’–<br/>
      <span style="font-weight:600;">Now screenshot this and send it to me ğŸ˜</span>
    </div>
  </div>

  <script>
    const no = document.getElementById('no');
    const yes = document.getElementById('yes');
    const msg = document.getElementById('msg');
    const hearts = document.getElementById('hearts');
    const success = document.getElementById('success');
    const card = document.getElementById('card');

    const lines = [
      "No? Are you *sure*? ğŸ˜",
      "Okay but likeâ€¦ really sure? ğŸ¥²",
      "Your finger slipped. Try again. ğŸ˜¶",
      "That button seems suspiciously hard to pressâ€¦ ğŸ¤¨",
      "You canâ€™t say no to love. ğŸ’˜",
      "I have snacks though. ğŸ«",
      "Last chance before I get dramatic. ğŸ»",
      "Fine. Iâ€™ll justâ€¦ move. ğŸƒâ€â™‚ï¸ğŸ’¨"
    ];
    let strikes = 0;

    function clamp(v, a, b){ return Math.max(a, Math.min(b, v)); }

    function moveNoButton(awayFromX=null, awayFromY=null){
      const rect = card.getBoundingClientRect();

      const margin = 14;
      const bw = no.offsetWidth;
      const bh = no.offsetHeight;

      // allowed area inside card
      const minX = rect.left + margin;
      const maxX = rect.right - margin - bw;
      const minY = rect.top + margin + 70;
      const maxY = rect.bottom - margin - bh;

      let x = minX + Math.random() * (maxX - minX);
      let y = minY + Math.random() * (maxY - minY);

      // if we know where the finger is, try to move away a bit
      if (awayFromX != null && awayFromY != null){
        const dx = x - awayFromX;
        const dy = y - awayFromY;
        const len = Math.hypot(dx, dy) || 1;
        x = clamp(awayFromX + (dx/len)*220, minX, maxX);
        y = clamp(awayFromY + (dy/len)*220, minY, maxY);
      }

      // convert viewport coords to card-relative coords (since #no is absolute in card)
      const cx = x - rect.left;
      const cy = y - rect.top;

      no.style.left = cx + "px";
      no.style.top = cy + "px";
      no.style.transform = "translate(0,0)";
    }

    function popHearts(n=18){
      const w = window.innerWidth;
      for (let i=0;i<n;i++){
        const s = document.createElement('div');
        s.className = 'heart';
        s.textContent = Math.random() < .5 ? 'ğŸ’–' : 'ğŸ’˜';
        s.style.left = (Math.random()*w) + "px";
        s.style.bottom = "-20px";
        s.style.fontSize = (14 + Math.random()*22) + "px";
        s.style.animationDuration = (2.0 + Math.random()*1.8) + "s";
        hearts.appendChild(s);
        setTimeout(()=>s.remove(), 4200);
      }
    }

    // Dodge behaviour (desktop hover + mobile touch approach)
    no.addEventListener('mouseenter', (e)=>{
      strikes = Math.min(strikes+1, lines.length-1);
      msg.textContent = lines[strikes];
      moveNoButton(e.clientX, e.clientY);
    });

    no.addEventListener('touchstart', (e)=>{
      const t = e.touches[0];
      strikes = Math.min(strikes+1, lines.length-1);
      msg.textContent = lines[strikes];
      moveNoButton(t.clientX, t.clientY);
    }, {passive:true});

    // If they somehow click No, escalate anyway
    no.addEventListener('click', ()=>{
      strikes = Math.min(strikes+1, lines.length-1);
      msg.textContent = "Nice try ğŸ˜Œ (still no)";
      moveNoButton();
      no.style.filter = `hue-rotate(${strikes*35}deg)`;
      no.style.transform = `scale(${Math.max(0.7, 1 - strikes*0.05)})`;
    });

    yes.addEventListener('click', ()=>{
      msg.textContent = "";
      success.classList.remove('hidden');
      popHearts(40);
      no.classList.add('hidden');
      yes.textContent = "YES âœ…";
      yes.disabled = true;
      yes.style.filter = "brightness(1.05)";
    });

    // initial placement so it sits nicely
    window.addEventListener('load', ()=>moveNoButton());
    window.addEventListener('resize', ()=>moveNoButton());
  </script>
</body>
</html>
